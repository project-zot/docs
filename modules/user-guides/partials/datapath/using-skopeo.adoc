== Common tasks with skopeo

https://github.com/containers/skopeo[`skopeo`] is a command line
client that performs various operations on OCI container images and image repositories.

====
This example pushes the latest container image for the `busybox` application to a zot server. The image is then copied to a local OCI-layout directory (`/oci/images`) and to a private (localhost) registry. A manifest is printed from the local OCI-layout directory.
====

=== Push an OCI image

----
$ skopeo --insecure-policy copy --dest-tls-verify=false --multi-arch=all \
   --format=oci docker://busybox:latest \
   docker://myZotRegistry.com:5000/busybox:latest
----

=== Pull an OCI image

----
$ skopeo --insecure-policy copy --src-tls-verify=false --multi-arch=all \
   docker://myZotRegistry.com:5000/busybox:latest \
   oci:/oci/images:busybox:latest
----

=== Pull an OCI image to a private docker registry

----
$ skopeo --insecure-policy copy --src-tls-verify=false --multi-arch=all \
   docker://myZotRegistry.com:5000/busybox:latest \
   docker://localhost:5000/busybox:latest
----

=== View manifest

----
$ cat /oci/images/index.json | jq .
{ "schemaVersion": 2,
  "manifests": [
    {
      "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "digest": "sha256:asdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdf",
      "size": 347,
      "annotations": {
        "org.opencontainers.image/ref.name": "busybox:latest"
      }
    }
  ]
}
----
